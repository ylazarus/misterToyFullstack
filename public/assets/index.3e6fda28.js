import{_ as m,r as d,o as a,c,a as y,w as h,b,d as n,F as x,e as S,f as $,t as _,g as f,v as C,h as E,i as F,j as T,k as O,l as w,C as A,m as N,D as V,n as M,p as I,q as P,s as L,u as R,x as U}from"./vendor.9720b3fd.js";const z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};z();const q={},G={class:"app-header"},J=b("Mr. Toy"),H=b("Dashboard"),j=b("App");function K(t,e,r,u,o,s){const i=d("router-link");return a(),c("section",G,[y(i,{to:"/"},{default:h(()=>[J]),_:1}),y(i,{to:"/dashboard"},{default:h(()=>[H]),_:1}),y(i,{to:"/toy"},{default:h(()=>[j]),_:1})])}var W=m(q,[["render",K]]);const Y={name:"app",created(){this.$store.dispatch({type:"loadToys"})},components:{appHeader:W}};function Q(t,e,r,u,o,s){const i=d("app-header"),p=d("RouterView");return a(),c("section",null,[y(i),y(p)])}var X=m(Y,[["render",Q]]);const Z={name:"home"};function ee(t,e,r,u,o,s){return a(),c("h1",null,"Home Page")}var te=m(Z,[["render",ee]]);const oe={name:"about",data(){return{center:{lat:32.088179,lng:34.790144},markers:[{position:{lat:32.088179,lng:34.790144}},{position:{lat:32.066278,lng:34.830301}},{position:{lat:32.093869,lng:34.882401}}]}}},ne=n("h1",null,"About Page",-1),se=n("h3",null,"Our Locations:",-1),le=n("br",null,null,-1);function re(t,e,r,u,o,s){const i=d("GMapMarker"),p=d("GMapCluster"),l=d("GMapMap");return a(),c("section",null,[ne,se,y(l,{center:o.center,zoom:12,"map-type-id":"terrain"},{default:h(()=>[y(p,null,{default:h(()=>[(a(!0),c(x,null,S(o.markers,(g,D)=>(a(),$(i,{key:D,position:g.position,clickable:!0,draggable:!0,onClick:ft=>o.center=g.position},null,8,["position","onClick"]))),128))]),_:1})]),_:1},8,["center"]),le,n("button",{onClick:e[0]||(e[0]=g=>o.center=o.markers[0].position)},"Tel Aviv"),n("button",{onClick:e[1]||(e[1]=g=>o.center=o.markers[1].position)},"Ramat Gan"),n("button",{onClick:e[2]||(e[2]=g=>o.center=o.markers[2].position)},"Petach Tikva")])}var ie=m(oe,[["render",re]]);const ae={name:"toy-preview",props:{toy:Object},computed:{isInStock(){return this.toy.inStock?"Item is in stock":"Out of Stock"}},methods:{goToDetail(){this.$router.push(`/toy/${this.toy._id}`)},goToEdit(){this.$router.push(`/toy/edit/${this.toy._id}`)},removeCar(t){console.log(t),this.$emit("removeToy",t)}}},ue={class:"toy-preview"};function ce(t,e,r,u,o,s){return a(),c("li",ue,[n("h3",null,"Name: "+_(r.toy.name),1),n("p",null,"Price: "+_(r.toy.price),1),n("p",null,"Type: "+_(r.toy.labels),1),n("p",null,_(s.isInStock),1),n("button",{onClick:e[0]||(e[0]=(...i)=>s.goToEdit&&s.goToEdit(...i))},"Edit"),n("button",{onClick:e[1]||(e[1]=(...i)=>s.goToDetail&&s.goToDetail(...i))},"Details"),n("button",{onClick:e[2]||(e[2]=i=>s.removeCar(r.toy._id))},"Delete")])}var de=m(ae,[["render",ce]]);const pe={props:{toys:{type:Array,required:!0}},components:{toyPreview:de},methods:{removeToy(t){this.$emit("removeToy",t)}}},ye={class:"toy-list"};function me(t,e,r,u,o,s){const i=d("toy-preview");return a(),c("ul",ye,[(a(!0),c(x,null,S(r.toys,p=>(a(),$(i,{onRemoveToy:s.removeToy,toy:p,key:p._id},null,8,["onRemoveToy","toy"]))),128))])}var _e=m(pe,[["render",me]]);const fe={name:"toy-filter",data(){return{filterBy:{name:"",inStock:"",labels:[],sortBy:""},options:[{value:"On wheels",label:"On wheels"},{value:"Box game",label:"Box game"},{value:"Art",label:"Art"},{value:"Baby",label:"Baby"},{value:"Doll",label:"Doll"},{value:"Puzzle",label:"Puzzle"},{value:"Outdoor",label:"Outdoor"}]}},methods:{setFilter(){this.$emit("setFilter",JSON.parse(JSON.stringify(this.filterBy)))}}},he={class:"toy-filter"},ve=b(" Stock: "),be=n("option",{value:""},"All",-1),ge=n("option",{value:"true"},"In stock",-1),Te=n("option",{value:"false"},"Not in stock",-1),ke=[be,ge,Te],$e=b(" Labels: "),Be={style:{display:"inline-block","margin-left":"20px"}},xe=b(" Sort By: "),Se=n("option",{value:"time"},"Time",-1),Ce=n("option",{value:"name"},"Name",-1),Ee=n("option",{value:"price"},"Price",-1),Fe=[Se,Ce,Ee];function De(t,e,r,u,o,s){const i=d("el-option"),p=d("el-select");return a(),c("section",he,[f(n("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.filterBy.name=l),onInput:e[1]||(e[1]=(...l)=>s.setFilter&&s.setFilter(...l)),type:"text",placeholder:"Search toy name..."},null,544),[[C,o.filterBy.name]]),n("label",null,[ve,f(n("select",{onChange:e[2]||(e[2]=(...l)=>s.setFilter&&s.setFilter(...l)),"onUpdate:modelValue":e[3]||(e[3]=l=>o.filterBy.inStock=l)},ke,544),[[E,o.filterBy.inStock]])]),n("label",null,[$e,n("div",Be,[y(p,{modelValue:o.filterBy.labels,"onUpdate:modelValue":e[4]||(e[4]=l=>o.filterBy.labels=l),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select",onChange:s.setFilter,style:{width:"240px"}},{default:h(()=>[(a(!0),c(x,null,S(o.options,l=>(a(),$(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),n("label",null,[xe,f(n("select",{onChange:e[5]||(e[5]=(...l)=>s.setFilter&&s.setFilter(...l)),"onUpdate:modelValue":e[6]||(e[6]=l=>o.filterBy.sortBy=l)},Fe,544),[[E,o.filterBy.sortBy]])])])])}var Oe=m(fe,[["render",De]]);const we={name:"toy-app",data(){return{}},computed:{toys(){return this.$store.getters.toys}},created(){},methods:{loadToys(){toyService.query().then(t=>this.toys=t)},setFilter(t){this.$store.dispatch({type:"filter",filterBy:t})},goToEdit(){this.$router.push("/toy/edit")},removeToy(t){this.$store.dispatch({type:"removeToy",id:t})}},components:{toyList:_e,toyFilter:Oe}},Ae={class:"toy-app"};function Ne(t,e,r,u,o,s){const i=d("toy-filter"),p=d("toy-list");return a(),c("section",Ae,[n("button",{onClick:e[0]||(e[0]=(...l)=>s.goToEdit&&s.goToEdit(...l))},"Add A New Toy"),y(i,{onSetFilter:s.setFilter},null,8,["onSetFilter"]),s.toys?(a(),$(p,{key:0,onRemoveToy:s.removeToy,toys:s.toys},null,8,["onRemoveToy","toys"])):F("",!0)])}var Ve=m(we,[["render",Ne]]);const k="/api/toy",v={query:Me,getById:Ie,remove:Pe,save:Le,getEmptyToy:Re};function Me(t){return T.get(k,{params:t}).then(e=>e.data)}function Ie(t){return T.get(k+t).then(e=>e.data)}function Pe(t){return T.delete(k+t)}function Le(t){return t._id?T.put(k+t._id,t):T.post(k,t)}function Re(){return{name:"",price:0,labels:"",reviews:[],type:"",inStock:!0}}const Ue={name:"toy-edit",data(){return{toyToEdit:null,options:[{value:"On wheels",label:"On wheels"},{value:"Box game",label:"Box game"},{value:"Art",label:"Art"},{value:"Baby",label:"Baby"},{value:"Doll",label:"Doll"},{value:"Puzzle",label:"Puzzle"},{value:"Outdoor",label:"Outdoor"}]}},created(){const{id:t}=this.$route.params;t?v.getById(t).then(e=>{this.toyToEdit=JSON.parse(JSON.stringify(e))}):this.toyToEdit=v.getEmptyToy()},methods:{goBack(){this.$router.push("/toy")},saveToy(){this.$store.dispatch({type:"saveToy",toy:JSON.parse(JSON.stringify(this.toyToEdit))})}}},ze={key:0,class:"toy-edit"},qe={class:"form-control"},Ge=n("label",{for:"name",class:"form-label"},"Toy Name",-1),Je={class:"form-control"},He=n("label",{for:"type",class:"form-label"},"Toy Type",-1),je=n("option",{value:"adult"},"Adult",-1),Ke=n("option",{value:"fun"},"Fun",-1),We=n("option",{value:"educational"},"Educational",-1),Ye=[je,Ke,We],Qe={class:"form-control"},Xe=n("label",{for:"price",class:"form-label"},"Toy price",-1),Ze={class:"form-control"},et=n("label",{for:"in-stock",class:"form-label"},"In Stock",-1),tt={style:{display:"inline-block","margin-left":"20px"}},ot={class:"btn-group"};function nt(t,e,r,u,o,s){const i=d("el-option"),p=d("el-select");return o.toyToEdit?(a(),c("section",ze,[n("form",{onSubmit:e[7]||(e[7]=w((...l)=>s.saveToy&&s.saveToy(...l),["prevent"])),class:"form"},[n("div",qe,[Ge,f(n("input",{required:"","onUpdate:modelValue":e[0]||(e[0]=l=>o.toyToEdit.name=l),id:"name",type:"text",class:"form-input",placeholder:"Enter toy name here..."},null,512),[[C,o.toyToEdit.name]])]),n("div",Je,[He,f(n("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.toyToEdit.type=l)},Ye,512),[[E,o.toyToEdit.type]])]),n("div",Qe,[Xe,f(n("input",{required:"","onUpdate:modelValue":e[2]||(e[2]=l=>o.toyToEdit.price=l),id:"price",type:"number",class:"form-input"},null,512),[[C,o.toyToEdit.price,void 0,{number:!0}]])]),n("div",Ze,[et,f(n("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>o.toyToEdit.inStock=l),id:"in-stock",type:"checkbox",class:"form-input"},null,512),[[O,o.toyToEdit.inStock]]),n("div",tt,[y(p,{modelValue:o.toyToEdit.labels,"onUpdate:modelValue":e[4]||(e[4]=l=>o.toyToEdit.labels=l),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"Select",style:{width:"240px"}},{default:h(()=>[(a(!0),c(x,null,S(o.options,l=>(a(),$(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),n("div",ot,[n("button",{onClick:e[5]||(e[5]=(...l)=>s.saveToy&&s.saveToy(...l))},"Save"),n("button",{onClick:e[6]||(e[6]=(...l)=>s.goBack&&s.goBack(...l))},"Go Back")])],32)])):F("",!0)}var st=m(Ue,[["render",nt]]);const lt={name:"toy-detail",data(){return{toy:null}},computed:{isInStock(){return this.toy.inStock?"Item is in stock":"Out of Stock"}},created(){const{id:t}=this.$route.params;v.getById(t).then(e=>{this.toy=e})},methods:{goBack(){this.$router.push("/toy")}}},rt={key:0,class:"toy-details flex flex-col items-center gap-2"};function it(t,e,r,u,o,s){return o.toy?(a(),c("section",rt,[n("article",null,[n("p",null,"ID: "+_(o.toy._id),1),n("p",null,"Name: "+_(o.toy.name),1),n("p",null,"Price: "+_(o.toy.price),1),n("p",null,"Labels: "+_(o.toy.label),1),n("p",null,"Reviews: "+_(o.toy.reviews),1),n("p",null,_(s.isInStock),1)]),n("button",{onClick:e[0]||(e[0]=(...i)=>s.goBack&&s.goBack(...i))},"Back")])):F("",!0)}var at=m(lt,[["render",it]]);A.register(...N);const ut={components:{DoughnutChart:V},created(){this.toys=this.$store.getters.toys,this.testData.datasets[0].data=[this.educationalToys,this.funToys,this.adultToys]},computed:{educationalToys(){return this.toys.filter(e=>e.type==="educational").length/this.toys.length},funToys(){return this.toys.filter(e=>e.type==="fun").length/this.toys.length},adultToys(){return this.toys.filter(e=>e.type==="adult").length/this.toys.length}},data(){return{toys:null,testData:{labels:["Educational","Fun","Adult"],datasets:[{data:[],backgroundColor:["#77CEFF","#0079AF","#123E6B"]}]}}}},ct=n("h1",null,"Percent of Toys by Type",-1);function dt(t,e,r,u,o,s){const i=d("DoughnutChart");return a(),c("section",null,[ct,y(i,{chartData:o.testData},null,8,["chartData"])])}var pt=m(ut,[["render",dt]]);const yt=M({history:I(),linkActiveClass:"active",routes:[{path:"/",name:"home",component:te},{path:"/toy",name:"toy-app",component:Ve},{path:"/toy/:id",name:"toy-details",component:at},{path:"/toy/edit/:id?",name:"toy-edit",component:st},{path:"/dashboard",name:"dashboard",component:pt},{path:"/about",name:"about",component:ie}]});var mt={state:{toys:null,filterBy:null},getters:{toys(t){return t.toys}},mutations:{setToys(t,{toys:e}){t.toys=e},removeToy(t,{id:e}){console.log("in mutations");const r=t.toys.findIndex(u=>u._id===e);t.toys.splice(r,1),console.log(t.toys)},saveToy(t,{toy:e}){const r=t.toys.findIndex(u=>u.id===e.id);r!==-1?t.toys.splice(r,1,e):t.toys.push(e)},setFilter(t,{filterBy:e}){t.filterBy=e}},actions:{loadToys({commit:t,state:e}){v.query(e.filterBy).then(r=>{t({type:"setToys",toys:r})})},removeToy({commit:t},{id:e}){console.log("in actions"),v.remove(e).then(()=>{t({type:"removeToy",id:e})})},saveToy({commit:t},{toy:e}){console.log("in action"),v.save(e).then(r=>{t({type:"saveToy",toy:r})})},filter({commit:t,dispatch:e},{filterBy:r}){t({type:"setFilter",filterBy:r}),e({type:"loadToys"})}}};const _t=P({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{toyStore:mt}});const B=L(X);B.use(R,{load:{key:""}});B.use(yt);B.use(_t);B.use(U);B.mount("#app");
